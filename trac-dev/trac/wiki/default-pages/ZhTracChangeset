= Trac变更集模块 =
[[ZhTracGuideToc]]

Trac有一个内置功能, 能可视化''diffs''. ''diffs''也就是指对文件的修改产生的变化.

有不同类型的''变更集''. 一些可以对应Subversion仓库中的修订, 另外一些可以集合在几处修订中做的更改, 但最终, 所有类型的变化都可以显示出来.

变更集视图包含了两部分, ''头部''和''diff视图''.

== 变更集头部 ==

头部显示了整个变更集的概貌. 在此, 你将找到如下信息:

 * 时间戳 -- 变更集何时提交的
 * 作者 -- 谁提交的变更集
 * 消息 -- 作者写的简短描述(入库日志消息)
 * 文件列表 -- 被变更集影响的文件列表
 
如果正在显示的变更集涉及多个修订的话, ''时间戳'',  ''作者'' 和''消息''就不会显示出来.

在列举的每个文件前, 有一个彩色的矩形, 其颜色表示变更集对该文件的影响.

 * 绿色: 添加
 * 红色: 删除
 * 黄色: 修改
 * 蓝色: 复制
 * 灰色: 移动

颜色图例位于头部下方.

== Diff视图 ==

头部下方是变更集的主要部分:diff视图. 每个文件单独显示一段, 每段只包含该文件受变更集影响的区域. 有两种样式来显示diffs(区别):''内嵌''和''并排''(在'''查看方式'''中, 切换这两种样式).

 * ''内嵌''样式显示了文件更改的区域. 从文件中删除的区域标为红色, 添加的区域为绿色. 如果某个区域被更改了, 旧的版本会显示在新版本的上方. 左侧的行数显示了该更改在新旧版本中的具体位置.

 * ''并排''样式在左侧显示旧版本, 右侧显示新版本(这样会比内嵌样式需要更大的屏幕宽度). 添加和删除的区域会像内嵌样式一样用绿色和红色标记出来, 但更改部分会有一个黄色的背景色.

另外, 在'''查看方式'''中有很多高级选项, 来调整diffs的显示:

 * 你可以设置更改前和更改后显示多少行(如果使用''全部''值的话, 整个文件都会显示出来)

 * 你可以设置是否忽略对空行, 大小写还有空格的更改, 以使你能更快找到对功能的更改.

== 获得Diff的不同方法 ==

=== 检查变更集 ===

当查看Subversion仓库检入(例如, 在[wiki:ZhTracTimeline 时间线索]中, 跟随一个变更集[wiki:ZhTracLinks 链接]或者变更集事件)时, Trac会显示具体的修改.

还有''上一变更集''和''下一变更集''的导航链接.

=== 检查修订的差异 ===

通常你会想要看跨越多个修订的文件或者目录的更改. 最简单的方法是[ZhTracRevisionLog Trac修订日志], 你可在其中选择文件或目录的''新'', ''旧''修订, 然后单击''查看更改''按钮.

=== 检查不同分支间的差异 ===

版本控制系统的一个核心特征是在不同''开发路线''上同步工作的能力, 通常叫做''分支''. Trac可以让你检查不同分支间的具体区别.

使用Trac浏览器中的''查看修改...''按钮, 可让你输入''从:''和''到:''(路径或修订). 差异集包含了应用于''从:''的修改.

可方便地点击变更集页面上的''反转Diff''链接将''旧''和''新''路径或修订的角色对换.

=== 检查最后修改 ===

最后一种检查修改的方法是使用[ZhTracBrowser Trac游览]提供的''最后修改''链接.

该链接把你带到最后所做的修改处.在那里, 你可以用''上一版本''和''下一版本''链接来回顾文件或目录的修改历史.

----
原文版本: TracChangeset[[BR]]
相关信息: [ZhTracGuide Trac导览],  [ZhTracBrowser Trac游览 ][[BR]]
See also: TracGuide,  TracBrowser